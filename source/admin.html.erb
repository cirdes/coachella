<div ng-controller='AdminCtrl'>
    <header>
      <div class="container">
          <h1>Auto Check-In Eventick</h1>
          <h2>Front in BH 2014 </h2>
      </div>
    </header>
    <div class="container">
    <%= link_to 'Sair', '', class: 'btn btn-embossed btn-primary pull-right', ng_click: 'logout()' %>
        <div class="content-header">
            <%= link_to 'Voltar para credenciamento', '/', class: 'btn btn-embossed btn-primary' %>
            <%= link_to 'Sincronizar com o servidor', '#/admin',  class: 'btn btn-embossed btn-primary', ng_click: 'syncEventick()' %>
            <h2><span>CHECK-INS</span> {{ (attendees | filter:checked).length }}/{{ attendees.length }}</h2>
        </div>
        <table id="participantes" class="table table-striped">
            <caption>Participantes</caption>
            <thead>
                <tr>
                    <th data-sort="string">Nome</th>
                    <th data-sort="string">E-mail</th>
                    <th data-sort="string">Ticket</th>
                    <th data-sort="float">Check-In</th>
                    <th data-sort="float">Dirty</th>
                </tr>
            </thead>
            <tbody>
              <tr ng-repeat="a in attendees" ng-class='{success: a.checked_at}'>
                  <td><a ng-click='checkAttendee(a)'>{{a.name}} </a></td>
                  <td>{{a.email}}</td>
                  <td>{{a.ticket_type}}</td>
                  <td>{{a.checked_at}}</td>
                  <td><a ng-click='syncAttendee(a)'> {{a.dirty || false }}</a></td>
              </li>
            </tbody>
       </table>
    <!-- /.container -->
</div>
